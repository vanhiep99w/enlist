{"id":"enlist-03s","title":"Fix inconsistency between error corrections and correctTranslation","description":"Error corrections don't match correctTranslation. Example: correction says 'noddle→noodle' but correctTranslation uses 'rice rolls'. Also 'coffee→cafe' but correct uses 'coffee'.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T10:42:05.557287758+07:00","updated_at":"2025-12-19T10:42:58.671650754+07:00","closed_at":"2025-12-19T10:42:58.671650754+07:00","close_reason":"Added CONSISTENCY RULE to AI prompt: error corrections MUST match exactly what appears in correctTranslation. Updated correction field description to emphasize matching. Added concrete examples (rice rolls, coffee vs cafe)."}
{"id":"enlist-0mh","title":"Redesign UI: More compact layout with Correct Translation visible without scrolling","description":"Make the UI more compact so users can see the Correct Translation section without needing to scroll. Reduce padding/spacing where possible.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:50:51.190976227+07:00","updated_at":"2025-12-18T07:55:02.310806549+07:00","closed_at":"2025-12-18T07:55:02.310806549+07:00","close_reason":"Made UI more compact: reduced padding/margins, smaller circles, Correct Translation now appears first and visible without scrolling"}
{"id":"enlist-0ud","title":"Add collocation learning highlights in feedback","description":"Highlight collocation errors specifically (e.g., 'make a decision' not 'do a decision'). Link to common collocation patterns. Critical for B1-B2 business English learners.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:43.573530104+07:00","updated_at":"2025-12-17T22:20:38.998908842+07:00","closed_at":"2025-12-17T22:20:38.998908842+07:00","close_reason":"Added collocationHighlights to AI prompt and response. Shows incorrect→correct with explanation and related collocations. Frontend displays blue-themed Collocation Learning section."}
{"id":"enlist-1cr","title":"Backend: Return word-level error positions for inline highlighting","description":"AI needs to return startIndex/endIndex for each error word in the user's translation so frontend can render strikethrough highlighting","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T07:19:27.108460545+07:00","updated_at":"2025-12-19T07:24:37.016142305+07:00","closed_at":"2025-12-19T07:24:37.016142305+07:00","close_reason":"Added startIndex, endIndex, and errorText fields to TranslationError DTO. Updated AI prompt to request character positions for inline highlighting. Updated parseResponse to extract these new fields."}
{"id":"enlist-25j","title":"Show completed sentence translations in paragraph with hover to reveal original","description":"When a sentence is completed, display the English translation in the paragraph view. On hover, show the original Vietnamese sentence as a tooltip.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:15:12.778198695+07:00","updated_at":"2025-12-18T20:17:39.7139878+07:00","closed_at":"2025-12-18T20:17:39.7139878+07:00","close_reason":"Implemented: completed sentences now show user's English translation in the paragraph view. Hovering reveals the original Vietnamese sentence in a tooltip."}
{"id":"enlist-2yv","title":"UX Improvements Epic - Feedback \u0026 Scoring System Enhancements","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-17T21:42:50.349838907+07:00","updated_at":"2025-12-17T22:47:02.582492938+07:00","closed_at":"2025-12-17T22:47:02.582492938+07:00","close_reason":"All features completed: multi-dimensional scoring, quick/detailed toggle, article tips, collocation highlights, reasoning tips, and register tips"}
{"id":"enlist-2yv.1","title":"Breakdown accuracy scoring into Grammar %, Word Choice %, Naturalness %","description":"Current single accuracy % confuses users. Implement multi-dimensional scoring: Grammar (syntax/structure), Word Choice (collocation/vocabulary), Naturalness (tone/flow). Backend: modify AI prompt to return breakdown. Frontend: display 3 progress bars instead of single percentage.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T21:43:07.706089104+07:00","updated_at":"2025-12-17T21:54:40.72908259+07:00","closed_at":"2025-12-17T21:54:40.72908259+07:00","close_reason":"Implemented multi-dimensional scoring (Grammar/Word Choice/Naturalness). Backend: AIService with Groq API integration, DTOs for score breakdown. Frontend: ScoreBreakdown component with 3 colored progress bars and tooltips.","dependencies":[{"issue_id":"enlist-2yv.1","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:07.708236449+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.2","title":"Add Quick Fix vs Detailed Explanation toggle for feedback","description":"Feedback text is overwhelming for new users. Add toggle: Quick Fix mode (1-line correction), Detailed mode (full explanation). Default to Quick Fix for first-time users. Remember user preference.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T21:43:12.837264047+07:00","updated_at":"2025-12-17T21:58:02.391364814+07:00","closed_at":"2025-12-17T21:58:02.391364814+07:00","close_reason":"Added Quick Fix vs Detailed toggle to FeedbackPanel. Preference saved to localStorage. Quick mode shows 1-line fix, Detailed shows full explanation. Animated transitions.","dependencies":[{"issue_id":"enlist-2yv.2","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:12.839314677+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.3","title":"Improve input placeholder with translation guidance","description":"Current placeholder 'Only highlighted sentence' is unclear. Change to: 'Translate naturally, not word-by-word. Focus on meaning over literal translation.' Add tooltip explaining paraphrasing is acceptable.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:43:17.956143176+07:00","updated_at":"2025-12-17T22:11:53.947430574+07:00","closed_at":"2025-12-17T22:11:53.947430574+07:00","close_reason":"Added tooltip with translation tips (paraphrasing acceptable, focus on meaning, natural English preferred)","dependencies":[{"issue_id":"enlist-2yv.3","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:17.957763858+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.4","title":"Add collapsible/expandable feedback sections","description":"Group feedback by category (Grammar, Word Choice, Naturalness). Each section collapsible. Show error count badge per section. Collapsed by default on mobile for better UX.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:43:34.658567154+07:00","updated_at":"2025-12-17T22:11:59.06511732+07:00","closed_at":"2025-12-17T22:11:59.06511732+07:00","close_reason":"Added collapsible sections grouped by error type (Grammar/Word Choice/Naturalness) with error count badges. Collapsed by default on mobile. Expand/collapse all button.","dependencies":[{"issue_id":"enlist-2yv.4","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:34.660299954+07:00","created_by":"hieptran"}]}
{"id":"enlist-4xy","title":"Improve AI prompt to catch spelling errors and Vietnamese food/cultural translations","description":"AI missed: 'noddle' should be 'noodle' (spelling) AND bánh cuốn = rice rolls, not noodles (translation accuracy)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T10:37:29.778230415+07:00","updated_at":"2025-12-19T10:38:11.272485148+07:00","closed_at":"2025-12-19T10:38:11.272485148+07:00","close_reason":"Added two new sections to AI prompt: 1) SPELLING ERRORS detection - must catch typos like 'noddle' → 'noodle'. 2) VIETNAMESE FOOD \u0026 CULTURAL TERMS - accurate translations for bánh cuốn=rice rolls, phở, bánh mì, cà phê sữa đá. Also updated error severity to include spelling and wrong food translations."}
{"id":"enlist-631","title":"Frontend: Implement feedback mode toggle (Quick/Detailed)","description":"Add toggle switch in FeedbackPanel. Store preference in localStorage. Quick mode shows 1-line fix per error. Detailed mode shows full explanation. Animate transition between modes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:44:05.473671818+07:00","updated_at":"2025-12-17T21:58:07.492421233+07:00","closed_at":"2025-12-17T21:58:07.492421233+07:00","close_reason":"Completed as part of enlist-2yv.2"}
{"id":"enlist-64m","title":"Improve keyboard shortcuts: Ctrl+Enter to submit answer","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:56:00.609844687+07:00","updated_at":"2025-12-18T19:59:19.89182619+07:00","closed_at":"2025-12-18T19:59:19.89182619+07:00","close_reason":"Implemented Ctrl+Enter keyboard shortcut to submit answers in both TranslationExercise and ParagraphSession components"}
{"id":"enlist-691","title":"Add cute vs lovely tone/register explanation","description":"Add nuanced word choice feedback for register/formality (cute=casual, lovely=formal). Help users understand tone appropriateness in business context.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-17T21:44:53.880205592+07:00","updated_at":"2025-12-17T22:45:54.321635997+07:00","closed_at":"2025-12-17T22:45:54.321635997+07:00","close_reason":"Implemented tone/register explanation feature with backend DTO, AI prompt updates, and frontend UI section (rose-themed)"}
{"id":"enlist-81i","title":"Fix black text in feedback panel - difficult to see","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T10:16:51.608435517+07:00","updated_at":"2025-12-19T10:18:13.394337645+07:00","closed_at":"2025-12-19T10:18:13.394337645+07:00","close_reason":"Fixed dark text colors in SuggestionLine.tsx: changed text-gray-800 to text-amber-200 and text-green-600 to text-green-400 for better visibility on dark background."}
{"id":"enlist-8kc","title":"Completed translations missing punctuation between sentences","description":"When displaying completed sentence translations in the paragraph view, sentences run together without periods or commas. Example: 'i wake up at 6 am i brush my teeth and wash my face after that i eat breakfast with my family my mon cook Pho very good' should have proper punctuation between each sentence.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T21:44:41.997890808+07:00","updated_at":"2025-12-18T21:47:34.053777462+07:00","closed_at":"2025-12-18T21:47:34.053777462+07:00","close_reason":"Added auto-punctuation: if a completed translation doesn't end with . ! or ?, a period is automatically appended for proper sentence separation."}
{"id":"enlist-9xr","title":"Display AI-corrected translation instead of user's raw input in paragraph view","description":"When a sentence is completed, the paragraph view shows the user's raw input with typos/errors (e.g., 'Da Lat is beatiful city') instead of the AI-corrected version ('Da Lat is a beautiful city'). The correctTranslation from AI response should be stored and displayed.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T21:51:43.89551247+07:00","updated_at":"2025-12-18T21:54:36.637805793+07:00","closed_at":"2025-12-18T21:54:36.637805793+07:00","close_reason":"Fixed: Now stores result.correctTranslation (AI-corrected version) instead of userTranslation (raw input) in completedTranslations."}
{"id":"enlist-9z9","title":"Enhance article (a/the/this) feedback for Vietnamese learners","description":"Articles are a major pain point for Vietnamese learners. Add dedicated article explanation section in feedback. Include common patterns and memory tips specific to Vietnamese speakers.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:26.136750212+07:00","updated_at":"2025-12-17T22:20:33.824559607+07:00","closed_at":"2025-12-17T22:20:33.824559607+07:00","close_reason":"Enhanced AI prompt with special attention for Vietnamese learners article mistakes. Added articleTips array with context/rule/example in Vietnamese. Frontend displays purple-themed Article Tips section."}
{"id":"enlist-bgh","title":"Improve AI prompt - correct answer should be complete translation","description":"AI gave incomplete 'correct' answer: 'Weekend is a valuable time' for 'Cuối tuần là thời gian quý báu để gia đình tôi sum họp' - missing 'for my family to gather'","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T10:23:11.452381479+07:00","updated_at":"2025-12-19T10:24:37.038350057+07:00","closed_at":"2025-12-19T10:24:37.038350057+07:00","close_reason":"Updated AI prompt in AIService.java to emphasize that correctTranslation must be COMPLETE and ACCURATE, capturing ALL meaning from the original Vietnamese. Added explicit example showing incomplete vs complete translation."}
{"id":"enlist-bt9","title":"Redesign UI with 2 columns: Translation Exercise (left) and Response (right)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:36:32.445367807+07:00","updated_at":"2025-12-18T07:40:04.819057467+07:00","closed_at":"2025-12-18T07:40:04.819057467+07:00","close_reason":"Implemented 2-column layout with exercise on left and response on right"}
{"id":"enlist-c01","title":"Backend: Add overall comment/summary (Nhận xét) to feedback","description":"AI should generate a concise overall comment summarizing the translation quality, what went well, and key areas to improve. Display in Vietnamese.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T07:19:53.45909335+07:00","updated_at":"2025-12-19T07:27:36.096113105+07:00","closed_at":"2025-12-19T07:27:36.096113105+07:00","close_reason":"Added overallComment field to TranslationFeedback DTO and AI prompt. AI now returns 1-2 sentence Vietnamese summary of translation quality."}
{"id":"enlist-cnf","title":"CreditsService fails to get or create user","description":"## Problem\nRuntimeException: Failed to get or create user: 1\n\nStack trace shows the error occurs at:\n- CreditsService.getOrCreateUser(CreditsService.java:84)\n- CreditsService.getUserCredits(CreditsService.java:27)\n- Called from UserController.getUserCredits\n\n## Root Cause\nThe getOrCreateUser method is failing when trying to create/find user with ID 1. The orElseThrow is being triggered after save fails or returns empty.\n\n## Impact\nUsers cannot access their credits, blocking core functionality.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:51:38.067124103+07:00","updated_at":"2025-12-18T20:53:31.715409039+07:00","closed_at":"2025-12-18T20:53:31.715409039+07:00","close_reason":"Fixed: Removed manual ID setting since User entity uses GenerationType.IDENTITY. The database now generates IDs automatically."}
{"id":"enlist-cw4","title":"Improve feedback UI - Add suggestion line with inline error highlighting","description":"Epic: Improve feedback display to match reference design. Sub-tasks: word-level error positions, strikethrough rendering, overall comments, good point highlighting","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T07:19:10.77356282+07:00","updated_at":"2025-12-19T09:40:03.131998462+07:00","closed_at":"2025-12-19T09:40:03.131998462+07:00","close_reason":"All subtasks completed: word-level error positions, strikethrough rendering, overall comments, good points highlighting"}
{"id":"enlist-e1i","title":"UX Improvements Epic - Phase 3","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-19T09:42:15.422206392+07:00","updated_at":"2025-12-19T10:07:46.204393692+07:00","closed_at":"2025-12-19T10:07:46.204393692+07:00","close_reason":"All Phase 3 UX improvements completed: typing indicator, dictionary feature, tooltip positioning fix, header navigation link."}
{"id":"enlist-e1i.1","title":"Fix inconsistent theming - unify light/dark mode across all pages","description":"Home page uses bg-gray-100 (light) while Paragraphs/Session use bg-gray-900 (dark). Unify to dark theme across all pages.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T09:42:35.745889251+07:00","updated_at":"2025-12-19T09:48:34.279075201+07:00","closed_at":"2025-12-19T09:48:34.279075201+07:00","close_reason":"Unified dark theme (bg-gray-900) across all pages: removed light bg from index.tsx, converted TranslationExercise, ScoreBreakdown, and FeedbackPanel to dark theme","dependencies":[{"issue_id":"enlist-e1i.1","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:35.748797644+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.2","title":"Redesign homepage with exercise selector instead of static sample","description":"Homepage shows static sample exercise. Add: recent paragraphs, quick start options, stats summary, or redirect to paragraph list.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T09:42:36.332166792+07:00","updated_at":"2025-12-19T09:52:41.71509568+07:00","closed_at":"2025-12-19T09:52:41.71509568+07:00","close_reason":"Redesigned homepage with: Hero section, Quick Start by difficulty (Beginner/Intermediate/Advanced), Browse Paragraphs grid, Stats section. Replaced static sample exercise.","dependencies":[{"issue_id":"enlist-e1i.2","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:36.335251774+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.3","title":"Add skeleton loading states to TranslationExercise","description":"TranslationExercise lacks skeleton loading like ParagraphSession. Add consistent loading UX.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:42:36.939625572+07:00","updated_at":"2025-12-19T09:54:47.804695263+07:00","closed_at":"2025-12-19T09:54:47.804695263+07:00","close_reason":"Skipped - TranslationExercise component deprecated after homepage redesign","dependencies":[{"issue_id":"enlist-e1i.3","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:36.943809094+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.4","title":"Add success micro-animation when passing 80% threshold","description":"After passing 80%, show celebration animation (confetti, checkmark pulse, or color flash) before showing Next Sentence button.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:42:37.529830428+07:00","updated_at":"2025-12-19T09:57:02.924850234+07:00","closed_at":"2025-12-19T09:57:02.924850234+07:00","close_reason":"Added success micro-animation: SuccessAnimation component with confetti particles and pop-in badge showing accuracy. Triggers when \u003e= 80% threshold is passed.","dependencies":[{"issue_id":"enlist-e1i.4","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:37.532768308+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.5","title":"Add typing indicator while AI processes feedback","description":"Show animated typing dots or 'AI is thinking...' indicator while waiting for AI response instead of just spinner.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:42:38.114786425+07:00","updated_at":"2025-12-19T09:59:33.911500244+07:00","closed_at":"2025-12-19T09:59:33.911500244+07:00","close_reason":"Implemented TypingIndicator component with animated bouncing dots. Updated TranslationExercise.tsx and ParagraphSession.tsx to show typing indicator instead of spinner during AI evaluation.","dependencies":[{"issue_id":"enlist-e1i.5","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:38.117604325+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.6","title":"Implement Dictionary feature or remove button","description":"Dictionary button in ParagraphSession is non-functional. Either implement word lookup feature or remove the button.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:42:38.708186255+07:00","updated_at":"2025-12-19T10:02:12.710429036+07:00","closed_at":"2025-12-19T10:02:12.710429036+07:00","close_reason":"Implemented Dictionary feature with Free Dictionary API. Created dictionaryApi.ts and DictionaryModal.tsx. Dictionary button now opens a modal with word lookup functionality.","dependencies":[{"issue_id":"enlist-e1i.6","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:38.711062247+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.7","title":"Fix tooltip overflow on completed sentences","description":"Tooltip with fixed left-0 positioning can overflow viewport on sentences near screen edge. Add smart positioning.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-19T09:42:39.299884632+07:00","updated_at":"2025-12-19T10:04:25.861245043+07:00","closed_at":"2025-12-19T10:04:25.861245043+07:00","close_reason":"Created SentenceTooltip component with smart positioning that detects viewport overflow and switches between left-0 and right-0 positioning. Updated both tooltip instances in ParagraphSession.","dependencies":[{"issue_id":"enlist-e1i.7","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:39.302720486+07:00","created_by":"daemon"}]}
{"id":"enlist-e1i.8","title":"Add Practice link to header navigation","description":"Header only has Paragraphs link. Add Practice/Home link with active state indicator.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-19T09:42:39.885863118+07:00","updated_at":"2025-12-19T10:06:20.570768013+07:00","closed_at":"2025-12-19T10:06:20.570768013+07:00","close_reason":"Added Practice link to header navigation with active state indicator using TanStack Router's active class. Used exact matching for home route.","dependencies":[{"issue_id":"enlist-e1i.8","depends_on_id":"enlist-e1i","type":"parent-child","created_at":"2025-12-19T09:42:39.888444266+07:00","created_by":"daemon"}]}
{"id":"enlist-f9a","title":"Fix SuggestionLine striking through entire text instead of specific errors","description":"When multiple errors exist, the entire user answer gets struck through instead of just the error parts. Example: 'my mon prepare specical breakfast with noddle and coffee' - entire text is red strikethrough","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T10:30:43.230996209+07:00","updated_at":"2025-12-19T10:31:34.05831223+07:00","closed_at":"2025-12-19T10:31:34.05831223+07:00","close_reason":"Updated AI prompt to explicitly require SEPARATE error entries for each distinct mistake. Added example showing correct approach (individual errors for typos, spelling, grammar) vs wrong approach (one giant span). This should prevent striking through entire text."}
{"id":"enlist-fai","title":"Add for vs because reasoning explanation","description":"Add dedicated explanation when AI detects reasoning word choice issues (for/because/since/as). Important for formal writing and IELTS preparation.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-17T21:44:48.722505386+07:00","updated_at":"2025-12-17T22:40:37.016837815+07:00","closed_at":"2025-12-17T22:40:37.016837815+07:00","close_reason":"Implemented reasoning word explanations (for/because/since/as) feature with backend DTO, AI prompt updates, and frontend UI section"}
{"id":"enlist-fxg","title":"Highlight good points and grammar in feedback","description":"Show positive aspects of the translation - good word choices, correct grammar patterns, natural phrases - highlighted in green or with a positive indicator","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T07:20:21.645794587+07:00","updated_at":"2025-12-19T07:45:56.000041371+07:00","closed_at":"2025-12-19T07:45:56.000041371+07:00","close_reason":"Added goodPoints highlighting - backend DTO, AI prompt, parsing, frontend types and display"}
{"id":"enlist-fyu","title":"UX Improvements Epic - Phase 2","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-19T09:04:45.002819691+07:00","updated_at":"2025-12-19T09:40:03.708386062+07:00","closed_at":"2025-12-19T09:40:03.708386062+07:00","close_reason":"All subtasks completed: dark mode, keyboard shortcuts, skeleton loading, mobile responsive layout"}
{"id":"enlist-fyu.1","title":"Add Dark Mode toggle with theme persistence","description":"Add dark/light mode toggle in header. Store preference in localStorage. Use Tailwind dark: classes. Smooth transition animation between themes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:04:58.211288408+07:00","updated_at":"2025-12-19T09:12:14.972177894+07:00","closed_at":"2025-12-19T09:12:14.972177894+07:00","close_reason":"Implemented dark mode toggle with localStorage persistence, Tailwind dark: variant, smooth transitions. Updated all components (TranslationExercise, ScoreBreakdown, FeedbackPanel, ThemeToggle).","dependencies":[{"issue_id":"enlist-fyu.1","depends_on_id":"enlist-fyu","type":"parent-child","created_at":"2025-12-19T09:04:58.213902079+07:00","created_by":"daemon"}]}
{"id":"enlist-fyu.2","title":"Add keyboard shortcuts for common actions","description":"Ctrl+Enter to submit translation. Escape to clear input. Show keyboard shortcut hints in UI tooltips. Add help modal listing all shortcuts.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:04:58.78701109+07:00","updated_at":"2025-12-19T09:18:47.701629027+07:00","closed_at":"2025-12-19T09:18:47.701629027+07:00","close_reason":"Implemented keyboard shortcuts: Ctrl+Enter to submit, Escape to clear/close, Ctrl+? for help modal. Added keyboard hints on buttons and floating help button.","dependencies":[{"issue_id":"enlist-fyu.2","depends_on_id":"enlist-fyu","type":"parent-child","created_at":"2025-12-19T09:04:58.790274882+07:00","created_by":"daemon"}]}
{"id":"enlist-fyu.3","title":"Add loading skeleton states","description":"Replace spinner with skeleton loading for feedback panel. Add pulse animation. Show skeleton for score breakdown area while AI processes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:04:59.354808061+07:00","updated_at":"2025-12-19T09:21:21.607171807+07:00","closed_at":"2025-12-19T09:21:21.607171807+07:00","close_reason":"Implemented skeleton loading states: ScoreBreakdownSkeleton with circular placeholders, FeedbackPanelSkeleton with section placeholders. Uses Tailwind animate-pulse for smooth loading animation.","dependencies":[{"issue_id":"enlist-fyu.3","depends_on_id":"enlist-fyu","type":"parent-child","created_at":"2025-12-19T09:04:59.357806255+07:00","created_by":"daemon"}]}
{"id":"enlist-fyu.4","title":"Optimize mobile responsive layout","description":"Convert 2-column to stacked layout on mobile (\u003c768px). Collapsible exercise panel on mobile. Sticky submit button. Touch-friendly tap targets.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T09:04:59.938747502+07:00","updated_at":"2025-12-19T09:29:23.68176394+07:00","closed_at":"2025-12-19T09:29:23.68176394+07:00","close_reason":"Implemented mobile responsive layout: stacked layout on \u003c768px, collapsible exercise panel, sticky bottom submit button (48px min height), responsive padding/spacing, touch-friendly targets.","dependencies":[{"issue_id":"enlist-fyu.4","depends_on_id":"enlist-fyu","type":"parent-child","created_at":"2025-12-19T09:04:59.941978371+07:00","created_by":"daemon"}]}
{"id":"enlist-fzm","title":"AI response truncation causes JSON parse error","description":"Groq API response is getting truncated mid-string, causing JsonEOFException: 'Unexpected end-of-input: was expecting closing quote for a string value' at line 88, column 29. Likely hit max_tokens limit. Potential fixes: increase max_tokens, add retry logic, or return default feedback on parse failure.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T07:48:48.597939386+07:00","updated_at":"2025-12-19T07:50:41.259899+07:00","closed_at":"2025-12-19T07:50:41.259899+07:00","close_reason":"Increased max-tokens from 1000 to 2000 in application.yml to prevent response truncation"}
{"id":"enlist-g0m","title":"correctTranslation returns whole paragraph instead of single sentence","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T07:53:50.861496988+07:00","updated_at":"2025-12-19T07:55:05.132330361+07:00","closed_at":"2025-12-19T07:55:05.132330361+07:00","close_reason":"Updated AI prompt to clarify correctTranslation should be for current sentence only, not whole paragraph"}
{"id":"enlist-h7x","title":"Exact match translations should score 100%, not 88%","description":"## Problem\nWhen user's translation exactly matches the correct translation, the AI still gives less than 100% and reports errors.\n\nExample:\n- User: \"I had breakfast with my family\"\n- Correct: \"I had breakfast with my family\"  \n- Score: 88% Overall with 1 Word Choice error\n\n## Root Cause\nThe AI is hallucinating errors even when translations match exactly.\n\n## Fix\nAdd a pre-check before AI evaluation: if user translation matches expected translation (case-insensitive, trimmed), automatically return 100% score with no errors.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-18T20:41:42.300250037+07:00","updated_at":"2025-12-18T20:43:37.417375861+07:00","closed_at":"2025-12-18T20:43:37.417375861+07:00","close_reason":"Fixed: Added post-AI check that compares normalized user translation with AI's correct translation. If they match (ignoring case, punctuation, extra spaces), returns 100% score automatically."}
{"id":"enlist-hkv","title":"Require 80% minimum score to proceed to next sentence in ParagraphSession","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:04:48.306968875+07:00","updated_at":"2025-12-18T20:07:04.570647887+07:00","closed_at":"2025-12-18T20:07:04.570647887+07:00","close_reason":"Implemented 80% minimum score requirement: users must retry if score \u003c 80% before proceeding to next sentence"}
{"id":"enlist-hx5","title":"Enhanced hover tooltip on completed sentences - show errors and feedback","description":"Currently, hovering over a completed sentence only shows the original Vietnamese text. Improve to show:\n1. Original Vietnamese sentence\n2. User's original input (if different from corrected)\n3. Errors that were made\n4. Key feedback points\n\nThis helps users review their mistakes while reading through completed translations.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-18T22:30:27.464886776+07:00","updated_at":"2025-12-18T22:34:10.389371117+07:00","closed_at":"2025-12-18T22:34:10.389371117+07:00","close_reason":"Enhanced hover tooltip now shows: (1) Accuracy badge, (2) Original Vietnamese, (3) User's original input if different from corrected (with strikethrough), (4) Error corrections with type badges (G/W/N). Much more informative for reviewing mistakes."}
{"id":"enlist-ill","title":"Paragraph Translation Sessions - Multi-sentence exercise mode","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-18T19:20:26.185749346+07:00","updated_at":"2025-12-18T19:50:36.375687822+07:00","closed_at":"2025-12-18T19:50:36.375687822+07:00","close_reason":"All subtasks completed: paragraph sessions, seed data, credits/points system, frontend achievements display"}
{"id":"enlist-ill.1","title":"Backend: Create Paragraph and Session entities/DTOs","description":"Create database entities: Paragraph (id, title, content, difficulty), Session (id, userId, paragraphId, currentSentenceIndex, status, createdAt). Add DTOs: ParagraphResponse, SessionResponse, SessionCreateRequest. Include sentence splitting logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:00.578244038+07:00","updated_at":"2025-12-18T19:25:43.525758732+07:00","closed_at":"2025-12-18T19:25:43.525758732+07:00","close_reason":"Created entities (Paragraph, ParagraphSession, SentenceSubmission), repositories (ParagraphRepository, ParagraphSessionRepository, SentenceSubmissionRepository), and DTOs (ParagraphResponse, SessionResponse, SentenceSubmissionResponse, etc.). Sentence splitting logic included in Paragraph.getSentences().","dependencies":[{"issue_id":"enlist-ill.1","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:00.579393394+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.10","title":"Seed database with sample paragraphs for testing","description":"Create 5+ sample Vietnamese paragraphs with varying difficulty. Topics: daily life, business, travel, education. Each paragraph should have 10-20 sentences.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:49.731295948+07:00","updated_at":"2025-12-18T19:39:03.782255146+07:00","closed_at":"2025-12-18T19:39:03.782255146+07:00","close_reason":"Created ParagraphDataLoader with 10 sample Vietnamese paragraphs covering daily_life, travel, business, education topics with EASY/MEDIUM/HARD difficulties","dependencies":[{"issue_id":"enlist-ill.10","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:49.732224372+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.2","title":"Backend: Create ParagraphController with CRUD endpoints","description":"GET /api/paragraphs - list paragraphs with filters (difficulty, topic). GET /api/paragraphs/{id} - get paragraph with sentences array. POST /api/paragraphs (admin) - create paragraph. DELETE /api/paragraphs/{id} (admin).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:06.037285826+07:00","updated_at":"2025-12-18T19:28:22.878454786+07:00","closed_at":"2025-12-18T19:28:22.878454786+07:00","close_reason":"Created ParagraphController with GET /api/paragraphs, GET /api/paragraphs/{id}, GET /api/paragraphs/search, POST /api/paragraphs, DELETE /api/paragraphs/{id}. Added ParagraphService.","dependencies":[{"issue_id":"enlist-ill.2","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:06.038523138+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.3","title":"Backend: Create SessionController for paragraph sessions","description":"POST /api/sessions - start new session (returns paragraph + first sentence). GET /api/sessions/{id} - get session state. POST /api/sessions/{id}/submit - submit translation for current sentence, advance index. POST /api/sessions/{id}/skip - skip sentence. GET /api/sessions/{id}/progress - return completed/total sentences, accuracy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:11.501519711+07:00","updated_at":"2025-12-18T19:28:28.331266588+07:00","closed_at":"2025-12-18T19:28:28.331266588+07:00","close_reason":"Created SessionController with POST /api/sessions, GET /api/sessions/{id}, POST /api/sessions/{id}/submit, POST /api/sessions/{id}/skip, GET /api/sessions/{id}/progress, GET /api/sessions/user/{userId}. Added SessionService with AI integration.","dependencies":[{"issue_id":"enlist-ill.3","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:11.50296118+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.4","title":"Backend: Track per-sentence submission history in session","description":"Create SentenceSubmission entity (sessionId, sentenceIndex, userTranslation, accuracy, submittedAt). Store each attempt with AI feedback. Support retry functionality - user can redo a sentence.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:16.945215304+07:00","updated_at":"2025-12-18T19:28:33.778171365+07:00","closed_at":"2025-12-18T19:28:33.778171365+07:00","close_reason":"SentenceSubmission entity and repository already created in enlist-ill.1. SessionService tracks submissions with AI feedback and supports retry.","dependencies":[{"issue_id":"enlist-ill.4","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:16.946519382+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.5","title":"Frontend: Create ParagraphList page to browse available paragraphs","description":"Display cards with paragraph title, difficulty badge, sentence count, topic tags. Filter by difficulty (Beginner/Intermediate/Advanced). Search by title/topic. Show user's completion status if previously attempted.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:22.402206309+07:00","updated_at":"2025-12-18T19:31:53.286832565+07:00","closed_at":"2025-12-18T19:31:53.286832565+07:00","close_reason":"Created ParagraphList component with difficulty filters, search, and paragraph cards. Route at /paragraphs.","dependencies":[{"issue_id":"enlist-ill.5","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:22.402969595+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.6","title":"Frontend: Create ParagraphSession page with sentence-by-sentence UI","description":"Display full paragraph text with current sentence highlighted (red/orange). Show progress bar and 'x/N sentences' counter. Translation input with Submit, Hint, Quit buttons. Right panel: Dictionary button, Accuracy percentage, AI feedback. Navigate between sentences after submission.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:27.853400669+07:00","updated_at":"2025-12-18T19:31:58.774939007+07:00","closed_at":"2025-12-18T19:31:58.774939007+07:00","close_reason":"Created ParagraphSession component with highlighted paragraph, sentence-by-sentence translation, progress bar, Submit/Hint/Quit buttons, AI feedback panel, and achievements display. Route at /session/:paragraphId.","dependencies":[{"issue_id":"enlist-ill.6","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:27.854557166+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.7","title":"Frontend: Add session progress tracking and completion UI","description":"Progress bar at top showing completion %. Session summary on completion: total time, average accuracy, achievements earned. Option to review all sentences with feedback. Save session to history.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:33.319893929+07:00","updated_at":"2025-12-18T19:32:04.244344327+07:00","closed_at":"2025-12-18T19:32:04.244344327+07:00","close_reason":"Session progress tracking implemented in ParagraphSession: progress bar, completion percentage, session summary on completion with points and accuracy.","dependencies":[{"issue_id":"enlist-ill.7","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:33.322130907+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.8","title":"Backend: Add credits/points system for paragraph sessions","description":"Award points per sentence based on accuracy. Bonus points for completing entire paragraph. Track credits (spend on hints). Add endpoints: GET /api/users/credits, POST /api/users/credits/spend (hint).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:38.812271249+07:00","updated_at":"2025-12-18T19:44:57.450290142+07:00","closed_at":"2025-12-18T19:44:57.450290142+07:00","close_reason":"Implemented credits/points system: User entity, CreditsService, UserController with GET /api/users/{id}/credits and POST /api/users/credits/spend. Points awarded on session completion with bonus credits.","dependencies":[{"issue_id":"enlist-ill.8","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:38.813992989+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.9","title":"Frontend: Display credits, points, and daily achievements","description":"Show credits and points in header. Achievement cards: Day Streak, Bright Mind, etc. Toast notifications on achievement unlock. Store achievements in backend and display in session completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:44.269748418+07:00","updated_at":"2025-12-18T19:49:35.612312538+07:00","closed_at":"2025-12-18T19:49:35.612312538+07:00","close_reason":"Implemented frontend credits/achievements display: Header with CreditsDisplay showing credits/points/sessions, AchievementCard and AchievementsPanel components, achievements computed based on session performance (90%+ accuracy, perfect score, day streak)","dependencies":[{"issue_id":"enlist-ill.9","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:44.270754452+07:00","created_by":"hieptran"}]}
{"id":"enlist-j0v","title":"Frontend: Display multi-dimensional score breakdown UI","description":"Create ScoreBreakdown component with 3 progress bars for Grammar/Word Choice/Naturalness. Color coding: green (80+), yellow (60-79), red (\u003c60). Add tooltips explaining each metric.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:43:44.900650006+07:00","updated_at":"2025-12-17T21:56:36.975674731+07:00","closed_at":"2025-12-17T21:56:36.975674731+07:00","close_reason":"Completed as part of enlist-2yv.1"}
{"id":"enlist-jhj","title":"AI should consider paragraph context for tense consistency and sentence coherence","description":"Current issue: Each sentence is evaluated independently, but the paragraph context is lost. Example: A paragraph about 'last month I went to Da Lat' (past tense) should expect all sentences in past tense. User wrote 'I'm in the hotel' but AI corrected to 'I'm in the hotel' (still present) instead of 'I was in the hotel' (past tense matching the paragraph context).\n\nImprovements needed:\n1. Consider tense consistency - if paragraph is about past events, translations should use past tense\n2. Consider logical connection between sentences (coherence)\n3. Provide context about the paragraph's timeframe to the AI when evaluating each sentence","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T21:59:39.606799859+07:00","updated_at":"2025-12-18T22:03:33.266799466+07:00","closed_at":"2025-12-18T22:03:33.266799466+07:00","close_reason":"Implemented paragraph context awareness: AI now receives full paragraph content and previous translations to ensure tense consistency. Added PARAGRAPH COHERENCE instructions to enforce past tense for past-context paragraphs."}
{"id":"enlist-k0a","title":"Auto-focus input field when advancing to next sentence","description":"When the user completes a sentence and advances to the next one, the translation input field should automatically receive focus so the user can immediately start typing without clicking.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T21:40:42.900577708+07:00","updated_at":"2025-12-18T21:42:48.336579059+07:00","closed_at":"2025-12-18T21:42:48.336579059+07:00","close_reason":"Added auto-focus to input field: on session load, after next sentence, after retry, and after skip."}
{"id":"enlist-p2f","title":"Redesign feedback UI for better user flow - reduce scrolling","description":"Current issue: The feedback panel is too long and requires scrolling to see all information (Correct Translation, Errors, Article Tips, Collocation Learning, Suggestions, etc.).\n\nImprovements needed:\n1. Make the feedback more compact and scannable\n2. Show most important info first (Correct Translation, Overall Score)\n3. Consider collapsible sections that are collapsed by default\n4. Maybe use tabs or accordion UI to organize different feedback sections\n5. Prioritize: Score → Correct Answer → Errors → Tips (collapsible)\n6. Goal: User should see key feedback without scrolling","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T22:11:56.830440325+07:00","updated_at":"2025-12-18T22:15:40.575696705+07:00","closed_at":"2025-12-18T22:15:40.575696705+07:00","close_reason":"Redesigned FeedbackPanel for better UX: (1) Compact Correct Translation at top, (2) Errors section with Quick/Detailed toggle, (3) All tips (Article, Collocation, Reasoning, Register, Suggestions) grouped into collapsible 'Learning Tips' section - collapsed by default. Reduced scrolling significantly."}
{"id":"enlist-p4n","title":"Save AI-corrected translation with proper spelling/grammar instead of user's raw input","description":"When evaluating a translation, the AI provides a corrected version with proper spelling, grammar, and punctuation. Currently we may be saving the user's raw input. Instead, save the AI-corrected translation as the 'correct_translation' so users can learn the proper form.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T21:33:00.923080434+07:00","updated_at":"2025-12-18T21:37:36.169047076+07:00","closed_at":"2025-12-18T21:37:36.169047076+07:00","close_reason":"Updated AI prompt to request student's translation with all typos, spelling, grammar, and punctuation corrected (preserving correct word choices) instead of an ideal translation."}
{"id":"enlist-rjj","title":"Feedback display bug: word split incorrectly and correction replaces entire sentence","description":"Bug: Word split incorrectly (e.g., 'have' split as 'ha' and 've') and correction shows entire sentence instead of just the corrected word. Fixed by: 1) Updating AI prompt to clarify correction should only contain replacement text, 2) Adding backend validation to verify/fix error positions","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T08:00:17.285115202+07:00","updated_at":"2025-12-19T08:03:15.948282276+07:00","closed_at":"2025-12-19T08:03:15.948282276+07:00","close_reason":"Fixed by updating AI prompt and adding backend validation"}
{"id":"enlist-uyr","title":"AI scoring too strict for semantically equivalent translations with minor errors","description":"## Problem\nThe AI evaluator gives low scores (70%) for translations that are semantically correct but have minor differences like:\n- Capitalization (\"i\" vs \"I\")\n- Minor article mistakes (\"a breakfast\" vs \"breakfast\")\n\nExample:\n- User: \"i had a breakfast with my family\"\n- Correct: \"I had breakfast with my family\"  \n- Score: 70% Overall (80% Grammar, 60% Word Choice, 70% Naturalness)\n\nWhile \"a breakfast\" is technically incorrect English (should be \"had breakfast\" without article), the meaning is fully preserved and scoring 70% feels punitive for a Vietnamese learner making a common article mistake.\n\n## Expected Behavior\n- Capitalization should have minimal impact on score\n- Near-equivalent translations should score higher (e.g., 85-90%)\n- The 80% threshold to pass becomes very difficult to achieve\n\n## Possible Solutions\n1. Add case-insensitive comparison for capitalization issues\n2. Adjust AI prompt to be more lenient for article mistakes common to Vietnamese speakers\n3. Lower the pass threshold from 80% to 70%\n4. Weight different error types differently (capitalization \u003c articles \u003c meaning errors)","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T20:38:24.34879594+07:00","updated_at":"2025-12-18T20:40:23.934762095+07:00","closed_at":"2025-12-18T20:40:23.934762095+07:00","close_reason":"Fixed: Updated AI prompt to be encouraging, not punitive. Capitalization is now ignored, minor errors like article mistakes only deduct 2-5 points. Translations with correct meaning should score 85-95%."}
{"id":"enlist-v4d","title":"Backend: Add quick_fix field to feedback response","description":"Modify AI prompt to include concise 1-line quick_fix alongside detailed explanation. Update API response DTO to include both quickFix and detailedExplanation fields.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:44:00.34305685+07:00","updated_at":"2025-12-17T22:09:46.235150945+07:00","closed_at":"2025-12-17T22:09:46.235150945+07:00","close_reason":"Already implemented in enlist-2yv.1 - TranslationError DTO includes quickFix field and AI prompt requests it","dependencies":[{"issue_id":"enlist-v4d","depends_on_id":"enlist-2yv.2","type":"blocks","created_at":"2025-12-17T21:44:00.349846528+07:00","created_by":"hieptran"}]}
{"id":"enlist-vvo","title":"Frontend: Display Nhận xét (overall comment) section","description":"Add a new section in FeedbackPanel to show the AI's overall comment/summary about the translation","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T07:20:06.998086317+07:00","updated_at":"2025-12-19T07:41:08.206701302+07:00","closed_at":"2025-12-19T07:41:08.206701302+07:00","close_reason":"Added Nhận xét (overall comment) section to FeedbackPanel","dependencies":[{"issue_id":"enlist-vvo","depends_on_id":"enlist-c01","type":"blocks","created_at":"2025-12-19T07:20:07.007073782+07:00","created_by":"hieptran"}]}
{"id":"enlist-vw4","title":"Accuracy indicator shows 0% after submission when translation score is below 80%","description":"## Problem\nWhen a user submits a translation that scores below 80% (the passing threshold), the 'Accuracy' indicator in the top-right corner shows 0% instead of the actual session average accuracy.\n\n## Root Cause\nIn ParagraphSession.tsx lines 93-106, the session object is only refreshed when the submission passes the threshold (accuracy \u003e= 80%). When accuracy is below 80%, the session state is not updated, so session.averageAccuracy remains at its previous value (0 for new sessions).\n\n## Expected Behavior\nThe Accuracy indicator should always show the current average accuracy of all submissions in the session, regardless of whether the threshold is passed.\n\n## Reproduction Steps\n1. Start a new paragraph session\n2. Submit a translation that scores below 80% (e.g., 70%)\n3. Observe the Accuracy indicator shows 0% instead of 70%\n\n## Fix\nIn handleSubmit(), always refresh the session after submission (not just when threshold is passed), OR update the session state locally with the new submission data.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:29:38.5952365+07:00","updated_at":"2025-12-18T20:31:02.054666315+07:00","closed_at":"2025-12-18T20:31:02.054666315+07:00","close_reason":"Fixed: Session is now always refreshed after submission regardless of threshold"}
{"id":"enlist-w4g","title":"Backend: Modify AI prompt to return multi-dimensional scoring","description":"Update AIService prompt to request structured JSON with: grammarScore (0-100), wordChoiceScore (0-100), naturalnessScore (0-100), plus individual error categorization. Update FeedbackService to parse new format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:43:39.775053694+07:00","updated_at":"2025-12-17T21:56:31.870435315+07:00","closed_at":"2025-12-17T21:56:31.870435315+07:00","close_reason":"Completed as part of enlist-2yv.1","dependencies":[{"issue_id":"enlist-w4g","depends_on_id":"enlist-2yv.1","type":"blocks","created_at":"2025-12-17T21:43:39.782046707+07:00","created_by":"hieptran"}]}
{"id":"enlist-wdu","title":"Session advances to next sentence even when accuracy \u003c 80%","description":"## Problem\nWhen user submits a translation with accuracy below 80%, the backend still advances currentSentenceIndex. After page refresh, user sees the next sentence instead of staying on the current one to retry.\n\n## Root Cause\nIn SessionService.java lines 116-117, advanceToNextSentence() is called unconditionally regardless of the accuracy score.\n\n## Expected Behavior\nThe sentence index should only advance when the user passes the 80% threshold. Below 80%, user must retry the same sentence.\n\n## Fix\nAdd accuracy check before advancing: only call advanceToNextSentence() when accuracy \u003e= 80.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:34:34.573356347+07:00","updated_at":"2025-12-18T20:35:37.162429914+07:00","closed_at":"2025-12-18T20:35:37.162429914+07:00","close_reason":"Fixed: Session only advances when accuracy \u003e= 80%"}
{"id":"enlist-wxl","title":"OptimisticLockingFailureException in CreditsService.getOrCreateUser - race condition on User entity","description":"Concurrent requests to getUserCredits cause StaleObjectStateException when multiple threads try to create/save the same User entity (id=1). Issue in CreditsService.getOrCreateUser at line 80-88.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:21:59.097607975+07:00","updated_at":"2025-12-18T20:23:38.783978715+07:00","closed_at":"2025-12-18T20:23:38.783978715+07:00","close_reason":"Fixed race condition in getOrCreateUser: added try-catch for DataIntegrityViolationException and ObjectOptimisticLockingFailureException with retry to fetch existing user. Also added @Transactional annotations."}
{"id":"enlist-wz3","title":"Improve correct_translation saving: store AI's correct answer with proper type","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T21:32:02.419477432+07:00","updated_at":"2025-12-18T21:35:12.092134158+07:00","closed_at":"2025-12-18T21:35:12.092134158+07:00","close_reason":"Duplicate of enlist-p4n"}
{"id":"enlist-x4e","title":"Improve UI: Compact ScoreBreakdown with circular percentage display","description":"Change ScoreBreakdown component to use compact circular progress indicators instead of the current layout","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:42:24.980619932+07:00","updated_at":"2025-12-18T07:45:27.751948803+07:00","closed_at":"2025-12-18T07:45:27.751948803+07:00","close_reason":"Implemented compact circular progress indicators for score display"}
{"id":"enlist-xzw","title":"NonUniqueResultException when accessing old paragraph - query returns 2 results","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:09:36.398338635+07:00","updated_at":"2025-12-18T20:11:22.576951399+07:00","closed_at":"2025-12-18T20:11:22.576951399+07:00","close_reason":"Fixed by changing findByUserIdAndParagraphIdAndStatus to findFirstByUserIdAndParagraphIdAndStatusOrderByIdDesc to handle cases where multiple IN_PROGRESS sessions exist for the same paragraph"}
{"id":"enlist-yhp","title":"Frontend: Render suggestion line with strikethrough errors and corrections","description":"Show user's translation with: 1) Wrong words in red strikethrough, 2) Corrections in parentheses next to errors. Example: 'I want ~~to~~ thank you ~~for~~ (because) the lovely gift'","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T07:19:40.49207239+07:00","updated_at":"2025-12-19T07:32:28.325530489+07:00","closed_at":"2025-12-19T07:32:28.325530489+07:00","close_reason":"Created SuggestionLine component that renders user translation with strikethrough errors and green corrections. Integrated into FeedbackPanel for both TranslationExercise and ParagraphSession.","dependencies":[{"issue_id":"enlist-yhp","depends_on_id":"enlist-1cr","type":"blocks","created_at":"2025-12-19T07:19:40.505373278+07:00","created_by":"hieptran"}]}
{"id":"enlist-zg1","title":"Add progressive onboarding for feedback complexity","description":"New users get simpler feedback (Quick Fix only). After 5 submissions, prompt to enable detailed mode. Track user experience level in profile. Adjust default feedback density accordingly.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:20.978859466+07:00","updated_at":"2025-12-17T22:15:46.178879471+07:00","closed_at":"2025-12-17T22:15:46.178879471+07:00","close_reason":"Added progressive onboarding: tracks submissions in localStorage, shows prompt after 5 submissions to enable detailed mode. New users default to Quick Fix mode."}
