{"id":"enlist-0mh","title":"Redesign UI: More compact layout with Correct Translation visible without scrolling","description":"Make the UI more compact so users can see the Correct Translation section without needing to scroll. Reduce padding/spacing where possible.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:50:51.190976227+07:00","updated_at":"2025-12-18T07:55:02.310806549+07:00","closed_at":"2025-12-18T07:55:02.310806549+07:00","close_reason":"Made UI more compact: reduced padding/margins, smaller circles, Correct Translation now appears first and visible without scrolling"}
{"id":"enlist-0ud","title":"Add collocation learning highlights in feedback","description":"Highlight collocation errors specifically (e.g., 'make a decision' not 'do a decision'). Link to common collocation patterns. Critical for B1-B2 business English learners.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:43.573530104+07:00","updated_at":"2025-12-17T22:20:38.998908842+07:00","closed_at":"2025-12-17T22:20:38.998908842+07:00","close_reason":"Added collocationHighlights to AI prompt and response. Shows incorrectâ†’correct with explanation and related collocations. Frontend displays blue-themed Collocation Learning section."}
{"id":"enlist-25j","title":"Show completed sentence translations in paragraph with hover to reveal original","description":"When a sentence is completed, display the English translation in the paragraph view. On hover, show the original Vietnamese sentence as a tooltip.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:15:12.778198695+07:00","updated_at":"2025-12-18T20:17:39.7139878+07:00","closed_at":"2025-12-18T20:17:39.7139878+07:00","close_reason":"Implemented: completed sentences now show user's English translation in the paragraph view. Hovering reveals the original Vietnamese sentence in a tooltip."}
{"id":"enlist-2yv","title":"UX Improvements Epic - Feedback \u0026 Scoring System Enhancements","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-17T21:42:50.349838907+07:00","updated_at":"2025-12-17T22:47:02.582492938+07:00","closed_at":"2025-12-17T22:47:02.582492938+07:00","close_reason":"All features completed: multi-dimensional scoring, quick/detailed toggle, article tips, collocation highlights, reasoning tips, and register tips"}
{"id":"enlist-2yv.1","title":"Breakdown accuracy scoring into Grammar %, Word Choice %, Naturalness %","description":"Current single accuracy % confuses users. Implement multi-dimensional scoring: Grammar (syntax/structure), Word Choice (collocation/vocabulary), Naturalness (tone/flow). Backend: modify AI prompt to return breakdown. Frontend: display 3 progress bars instead of single percentage.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T21:43:07.706089104+07:00","updated_at":"2025-12-17T21:54:40.72908259+07:00","closed_at":"2025-12-17T21:54:40.72908259+07:00","close_reason":"Implemented multi-dimensional scoring (Grammar/Word Choice/Naturalness). Backend: AIService with Groq API integration, DTOs for score breakdown. Frontend: ScoreBreakdown component with 3 colored progress bars and tooltips.","dependencies":[{"issue_id":"enlist-2yv.1","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:07.708236449+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.2","title":"Add Quick Fix vs Detailed Explanation toggle for feedback","description":"Feedback text is overwhelming for new users. Add toggle: Quick Fix mode (1-line correction), Detailed mode (full explanation). Default to Quick Fix for first-time users. Remember user preference.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T21:43:12.837264047+07:00","updated_at":"2025-12-17T21:58:02.391364814+07:00","closed_at":"2025-12-17T21:58:02.391364814+07:00","close_reason":"Added Quick Fix vs Detailed toggle to FeedbackPanel. Preference saved to localStorage. Quick mode shows 1-line fix, Detailed shows full explanation. Animated transitions.","dependencies":[{"issue_id":"enlist-2yv.2","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:12.839314677+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.3","title":"Improve input placeholder with translation guidance","description":"Current placeholder 'Only highlighted sentence' is unclear. Change to: 'Translate naturally, not word-by-word. Focus on meaning over literal translation.' Add tooltip explaining paraphrasing is acceptable.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:43:17.956143176+07:00","updated_at":"2025-12-17T22:11:53.947430574+07:00","closed_at":"2025-12-17T22:11:53.947430574+07:00","close_reason":"Added tooltip with translation tips (paraphrasing acceptable, focus on meaning, natural English preferred)","dependencies":[{"issue_id":"enlist-2yv.3","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:17.957763858+07:00","created_by":"hieptran"}]}
{"id":"enlist-2yv.4","title":"Add collapsible/expandable feedback sections","description":"Group feedback by category (Grammar, Word Choice, Naturalness). Each section collapsible. Show error count badge per section. Collapsed by default on mobile for better UX.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:43:34.658567154+07:00","updated_at":"2025-12-17T22:11:59.06511732+07:00","closed_at":"2025-12-17T22:11:59.06511732+07:00","close_reason":"Added collapsible sections grouped by error type (Grammar/Word Choice/Naturalness) with error count badges. Collapsed by default on mobile. Expand/collapse all button.","dependencies":[{"issue_id":"enlist-2yv.4","depends_on_id":"enlist-2yv","type":"parent-child","created_at":"2025-12-17T21:43:34.660299954+07:00","created_by":"hieptran"}]}
{"id":"enlist-631","title":"Frontend: Implement feedback mode toggle (Quick/Detailed)","description":"Add toggle switch in FeedbackPanel. Store preference in localStorage. Quick mode shows 1-line fix per error. Detailed mode shows full explanation. Animate transition between modes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:44:05.473671818+07:00","updated_at":"2025-12-17T21:58:07.492421233+07:00","closed_at":"2025-12-17T21:58:07.492421233+07:00","close_reason":"Completed as part of enlist-2yv.2"}
{"id":"enlist-64m","title":"Improve keyboard shortcuts: Ctrl+Enter to submit answer","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:56:00.609844687+07:00","updated_at":"2025-12-18T19:59:19.89182619+07:00","closed_at":"2025-12-18T19:59:19.89182619+07:00","close_reason":"Implemented Ctrl+Enter keyboard shortcut to submit answers in both TranslationExercise and ParagraphSession components"}
{"id":"enlist-691","title":"Add cute vs lovely tone/register explanation","description":"Add nuanced word choice feedback for register/formality (cute=casual, lovely=formal). Help users understand tone appropriateness in business context.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-17T21:44:53.880205592+07:00","updated_at":"2025-12-17T22:45:54.321635997+07:00","closed_at":"2025-12-17T22:45:54.321635997+07:00","close_reason":"Implemented tone/register explanation feature with backend DTO, AI prompt updates, and frontend UI section (rose-themed)"}
{"id":"enlist-9z9","title":"Enhance article (a/the/this) feedback for Vietnamese learners","description":"Articles are a major pain point for Vietnamese learners. Add dedicated article explanation section in feedback. Include common patterns and memory tips specific to Vietnamese speakers.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:26.136750212+07:00","updated_at":"2025-12-17T22:20:33.824559607+07:00","closed_at":"2025-12-17T22:20:33.824559607+07:00","close_reason":"Enhanced AI prompt with special attention for Vietnamese learners article mistakes. Added articleTips array with context/rule/example in Vietnamese. Frontend displays purple-themed Article Tips section."}
{"id":"enlist-bt9","title":"Redesign UI with 2 columns: Translation Exercise (left) and Response (right)","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:36:32.445367807+07:00","updated_at":"2025-12-18T07:40:04.819057467+07:00","closed_at":"2025-12-18T07:40:04.819057467+07:00","close_reason":"Implemented 2-column layout with exercise on left and response on right"}
{"id":"enlist-cnf","title":"CreditsService fails to get or create user","description":"## Problem\nRuntimeException: Failed to get or create user: 1\n\nStack trace shows the error occurs at:\n- CreditsService.getOrCreateUser(CreditsService.java:84)\n- CreditsService.getUserCredits(CreditsService.java:27)\n- Called from UserController.getUserCredits\n\n## Root Cause\nThe getOrCreateUser method is failing when trying to create/find user with ID 1. The orElseThrow is being triggered after save fails or returns empty.\n\n## Impact\nUsers cannot access their credits, blocking core functionality.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:51:38.067124103+07:00","updated_at":"2025-12-18T20:53:31.715409039+07:00","closed_at":"2025-12-18T20:53:31.715409039+07:00","close_reason":"Fixed: Removed manual ID setting since User entity uses GenerationType.IDENTITY. The database now generates IDs automatically."}
{"id":"enlist-fai","title":"Add for vs because reasoning explanation","description":"Add dedicated explanation when AI detects reasoning word choice issues (for/because/since/as). Important for formal writing and IELTS preparation.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-17T21:44:48.722505386+07:00","updated_at":"2025-12-17T22:40:37.016837815+07:00","closed_at":"2025-12-17T22:40:37.016837815+07:00","close_reason":"Implemented reasoning word explanations (for/because/since/as) feature with backend DTO, AI prompt updates, and frontend UI section"}
{"id":"enlist-h7x","title":"Exact match translations should score 100%, not 88%","description":"## Problem\nWhen user's translation exactly matches the correct translation, the AI still gives less than 100% and reports errors.\n\nExample:\n- User: \"I had breakfast with my family\"\n- Correct: \"I had breakfast with my family\"  \n- Score: 88% Overall with 1 Word Choice error\n\n## Root Cause\nThe AI is hallucinating errors even when translations match exactly.\n\n## Fix\nAdd a pre-check before AI evaluation: if user translation matches expected translation (case-insensitive, trimmed), automatically return 100% score with no errors.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-18T20:41:42.300250037+07:00","updated_at":"2025-12-18T20:43:37.417375861+07:00","closed_at":"2025-12-18T20:43:37.417375861+07:00","close_reason":"Fixed: Added post-AI check that compares normalized user translation with AI's correct translation. If they match (ignoring case, punctuation, extra spaces), returns 100% score automatically."}
{"id":"enlist-hkv","title":"Require 80% minimum score to proceed to next sentence in ParagraphSession","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T20:04:48.306968875+07:00","updated_at":"2025-12-18T20:07:04.570647887+07:00","closed_at":"2025-12-18T20:07:04.570647887+07:00","close_reason":"Implemented 80% minimum score requirement: users must retry if score \u003c 80% before proceeding to next sentence"}
{"id":"enlist-ill","title":"Paragraph Translation Sessions - Multi-sentence exercise mode","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-18T19:20:26.185749346+07:00","updated_at":"2025-12-18T19:50:36.375687822+07:00","closed_at":"2025-12-18T19:50:36.375687822+07:00","close_reason":"All subtasks completed: paragraph sessions, seed data, credits/points system, frontend achievements display"}
{"id":"enlist-ill.1","title":"Backend: Create Paragraph and Session entities/DTOs","description":"Create database entities: Paragraph (id, title, content, difficulty), Session (id, userId, paragraphId, currentSentenceIndex, status, createdAt). Add DTOs: ParagraphResponse, SessionResponse, SessionCreateRequest. Include sentence splitting logic.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:00.578244038+07:00","updated_at":"2025-12-18T19:25:43.525758732+07:00","closed_at":"2025-12-18T19:25:43.525758732+07:00","close_reason":"Created entities (Paragraph, ParagraphSession, SentenceSubmission), repositories (ParagraphRepository, ParagraphSessionRepository, SentenceSubmissionRepository), and DTOs (ParagraphResponse, SessionResponse, SentenceSubmissionResponse, etc.). Sentence splitting logic included in Paragraph.getSentences().","dependencies":[{"issue_id":"enlist-ill.1","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:00.579393394+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.10","title":"Seed database with sample paragraphs for testing","description":"Create 5+ sample Vietnamese paragraphs with varying difficulty. Topics: daily life, business, travel, education. Each paragraph should have 10-20 sentences.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:49.731295948+07:00","updated_at":"2025-12-18T19:39:03.782255146+07:00","closed_at":"2025-12-18T19:39:03.782255146+07:00","close_reason":"Created ParagraphDataLoader with 10 sample Vietnamese paragraphs covering daily_life, travel, business, education topics with EASY/MEDIUM/HARD difficulties","dependencies":[{"issue_id":"enlist-ill.10","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:49.732224372+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.2","title":"Backend: Create ParagraphController with CRUD endpoints","description":"GET /api/paragraphs - list paragraphs with filters (difficulty, topic). GET /api/paragraphs/{id} - get paragraph with sentences array. POST /api/paragraphs (admin) - create paragraph. DELETE /api/paragraphs/{id} (admin).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:06.037285826+07:00","updated_at":"2025-12-18T19:28:22.878454786+07:00","closed_at":"2025-12-18T19:28:22.878454786+07:00","close_reason":"Created ParagraphController with GET /api/paragraphs, GET /api/paragraphs/{id}, GET /api/paragraphs/search, POST /api/paragraphs, DELETE /api/paragraphs/{id}. Added ParagraphService.","dependencies":[{"issue_id":"enlist-ill.2","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:06.038523138+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.3","title":"Backend: Create SessionController for paragraph sessions","description":"POST /api/sessions - start new session (returns paragraph + first sentence). GET /api/sessions/{id} - get session state. POST /api/sessions/{id}/submit - submit translation for current sentence, advance index. POST /api/sessions/{id}/skip - skip sentence. GET /api/sessions/{id}/progress - return completed/total sentences, accuracy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:11.501519711+07:00","updated_at":"2025-12-18T19:28:28.331266588+07:00","closed_at":"2025-12-18T19:28:28.331266588+07:00","close_reason":"Created SessionController with POST /api/sessions, GET /api/sessions/{id}, POST /api/sessions/{id}/submit, POST /api/sessions/{id}/skip, GET /api/sessions/{id}/progress, GET /api/sessions/user/{userId}. Added SessionService with AI integration.","dependencies":[{"issue_id":"enlist-ill.3","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:11.50296118+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.4","title":"Backend: Track per-sentence submission history in session","description":"Create SentenceSubmission entity (sessionId, sentenceIndex, userTranslation, accuracy, submittedAt). Store each attempt with AI feedback. Support retry functionality - user can redo a sentence.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:16.945215304+07:00","updated_at":"2025-12-18T19:28:33.778171365+07:00","closed_at":"2025-12-18T19:28:33.778171365+07:00","close_reason":"SentenceSubmission entity and repository already created in enlist-ill.1. SessionService tracks submissions with AI feedback and supports retry.","dependencies":[{"issue_id":"enlist-ill.4","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:16.946519382+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.5","title":"Frontend: Create ParagraphList page to browse available paragraphs","description":"Display cards with paragraph title, difficulty badge, sentence count, topic tags. Filter by difficulty (Beginner/Intermediate/Advanced). Search by title/topic. Show user's completion status if previously attempted.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:22.402206309+07:00","updated_at":"2025-12-18T19:31:53.286832565+07:00","closed_at":"2025-12-18T19:31:53.286832565+07:00","close_reason":"Created ParagraphList component with difficulty filters, search, and paragraph cards. Route at /paragraphs.","dependencies":[{"issue_id":"enlist-ill.5","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:22.402969595+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.6","title":"Frontend: Create ParagraphSession page with sentence-by-sentence UI","description":"Display full paragraph text with current sentence highlighted (red/orange). Show progress bar and 'x/N sentences' counter. Translation input with Submit, Hint, Quit buttons. Right panel: Dictionary button, Accuracy percentage, AI feedback. Navigate between sentences after submission.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:27.853400669+07:00","updated_at":"2025-12-18T19:31:58.774939007+07:00","closed_at":"2025-12-18T19:31:58.774939007+07:00","close_reason":"Created ParagraphSession component with highlighted paragraph, sentence-by-sentence translation, progress bar, Submit/Hint/Quit buttons, AI feedback panel, and achievements display. Route at /session/:paragraphId.","dependencies":[{"issue_id":"enlist-ill.6","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:27.854557166+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.7","title":"Frontend: Add session progress tracking and completion UI","description":"Progress bar at top showing completion %. Session summary on completion: total time, average accuracy, achievements earned. Option to review all sentences with feedback. Save session to history.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:21:33.319893929+07:00","updated_at":"2025-12-18T19:32:04.244344327+07:00","closed_at":"2025-12-18T19:32:04.244344327+07:00","close_reason":"Session progress tracking implemented in ParagraphSession: progress bar, completion percentage, session summary on completion with points and accuracy.","dependencies":[{"issue_id":"enlist-ill.7","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:33.322130907+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.8","title":"Backend: Add credits/points system for paragraph sessions","description":"Award points per sentence based on accuracy. Bonus points for completing entire paragraph. Track credits (spend on hints). Add endpoints: GET /api/users/credits, POST /api/users/credits/spend (hint).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:38.812271249+07:00","updated_at":"2025-12-18T19:44:57.450290142+07:00","closed_at":"2025-12-18T19:44:57.450290142+07:00","close_reason":"Implemented credits/points system: User entity, CreditsService, UserController with GET /api/users/{id}/credits and POST /api/users/credits/spend. Points awarded on session completion with bonus credits.","dependencies":[{"issue_id":"enlist-ill.8","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:38.813992989+07:00","created_by":"hieptran"}]}
{"id":"enlist-ill.9","title":"Frontend: Display credits, points, and daily achievements","description":"Show credits and points in header. Achievement cards: Day Streak, Bright Mind, etc. Toast notifications on achievement unlock. Store achievements in backend and display in session completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:21:44.269748418+07:00","updated_at":"2025-12-18T19:49:35.612312538+07:00","closed_at":"2025-12-18T19:49:35.612312538+07:00","close_reason":"Implemented frontend credits/achievements display: Header with CreditsDisplay showing credits/points/sessions, AchievementCard and AchievementsPanel components, achievements computed based on session performance (90%+ accuracy, perfect score, day streak)","dependencies":[{"issue_id":"enlist-ill.9","depends_on_id":"enlist-ill","type":"parent-child","created_at":"2025-12-18T19:21:44.270754452+07:00","created_by":"hieptran"}]}
{"id":"enlist-j0v","title":"Frontend: Display multi-dimensional score breakdown UI","description":"Create ScoreBreakdown component with 3 progress bars for Grammar/Word Choice/Naturalness. Color coding: green (80+), yellow (60-79), red (\u003c60). Add tooltips explaining each metric.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:43:44.900650006+07:00","updated_at":"2025-12-17T21:56:36.975674731+07:00","closed_at":"2025-12-17T21:56:36.975674731+07:00","close_reason":"Completed as part of enlist-2yv.1"}
{"id":"enlist-uyr","title":"AI scoring too strict for semantically equivalent translations with minor errors","description":"## Problem\nThe AI evaluator gives low scores (70%) for translations that are semantically correct but have minor differences like:\n- Capitalization (\"i\" vs \"I\")\n- Minor article mistakes (\"a breakfast\" vs \"breakfast\")\n\nExample:\n- User: \"i had a breakfast with my family\"\n- Correct: \"I had breakfast with my family\"  \n- Score: 70% Overall (80% Grammar, 60% Word Choice, 70% Naturalness)\n\nWhile \"a breakfast\" is technically incorrect English (should be \"had breakfast\" without article), the meaning is fully preserved and scoring 70% feels punitive for a Vietnamese learner making a common article mistake.\n\n## Expected Behavior\n- Capitalization should have minimal impact on score\n- Near-equivalent translations should score higher (e.g., 85-90%)\n- The 80% threshold to pass becomes very difficult to achieve\n\n## Possible Solutions\n1. Add case-insensitive comparison for capitalization issues\n2. Adjust AI prompt to be more lenient for article mistakes common to Vietnamese speakers\n3. Lower the pass threshold from 80% to 70%\n4. Weight different error types differently (capitalization \u003c articles \u003c meaning errors)","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-18T20:38:24.34879594+07:00","updated_at":"2025-12-18T20:40:23.934762095+07:00","closed_at":"2025-12-18T20:40:23.934762095+07:00","close_reason":"Fixed: Updated AI prompt to be encouraging, not punitive. Capitalization is now ignored, minor errors like article mistakes only deduct 2-5 points. Translations with correct meaning should score 85-95%."}
{"id":"enlist-v4d","title":"Backend: Add quick_fix field to feedback response","description":"Modify AI prompt to include concise 1-line quick_fix alongside detailed explanation. Update API response DTO to include both quickFix and detailedExplanation fields.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:44:00.34305685+07:00","updated_at":"2025-12-17T22:09:46.235150945+07:00","closed_at":"2025-12-17T22:09:46.235150945+07:00","close_reason":"Already implemented in enlist-2yv.1 - TranslationError DTO includes quickFix field and AI prompt requests it","dependencies":[{"issue_id":"enlist-v4d","depends_on_id":"enlist-2yv.2","type":"blocks","created_at":"2025-12-17T21:44:00.349846528+07:00","created_by":"hieptran"}]}
{"id":"enlist-vw4","title":"Accuracy indicator shows 0% after submission when translation score is below 80%","description":"## Problem\nWhen a user submits a translation that scores below 80% (the passing threshold), the 'Accuracy' indicator in the top-right corner shows 0% instead of the actual session average accuracy.\n\n## Root Cause\nIn ParagraphSession.tsx lines 93-106, the session object is only refreshed when the submission passes the threshold (accuracy \u003e= 80%). When accuracy is below 80%, the session state is not updated, so session.averageAccuracy remains at its previous value (0 for new sessions).\n\n## Expected Behavior\nThe Accuracy indicator should always show the current average accuracy of all submissions in the session, regardless of whether the threshold is passed.\n\n## Reproduction Steps\n1. Start a new paragraph session\n2. Submit a translation that scores below 80% (e.g., 70%)\n3. Observe the Accuracy indicator shows 0% instead of 70%\n\n## Fix\nIn handleSubmit(), always refresh the session after submission (not just when threshold is passed), OR update the session state locally with the new submission data.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:29:38.5952365+07:00","updated_at":"2025-12-18T20:31:02.054666315+07:00","closed_at":"2025-12-18T20:31:02.054666315+07:00","close_reason":"Fixed: Session is now always refreshed after submission regardless of threshold"}
{"id":"enlist-w4g","title":"Backend: Modify AI prompt to return multi-dimensional scoring","description":"Update AIService prompt to request structured JSON with: grammarScore (0-100), wordChoiceScore (0-100), naturalnessScore (0-100), plus individual error categorization. Update FeedbackService to parse new format.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:43:39.775053694+07:00","updated_at":"2025-12-17T21:56:31.870435315+07:00","closed_at":"2025-12-17T21:56:31.870435315+07:00","close_reason":"Completed as part of enlist-2yv.1","dependencies":[{"issue_id":"enlist-w4g","depends_on_id":"enlist-2yv.1","type":"blocks","created_at":"2025-12-17T21:43:39.782046707+07:00","created_by":"hieptran"}]}
{"id":"enlist-wdu","title":"Session advances to next sentence even when accuracy \u003c 80%","description":"## Problem\nWhen user submits a translation with accuracy below 80%, the backend still advances currentSentenceIndex. After page refresh, user sees the next sentence instead of staying on the current one to retry.\n\n## Root Cause\nIn SessionService.java lines 116-117, advanceToNextSentence() is called unconditionally regardless of the accuracy score.\n\n## Expected Behavior\nThe sentence index should only advance when the user passes the 80% threshold. Below 80%, user must retry the same sentence.\n\n## Fix\nAdd accuracy check before advancing: only call advanceToNextSentence() when accuracy \u003e= 80.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:34:34.573356347+07:00","updated_at":"2025-12-18T20:35:37.162429914+07:00","closed_at":"2025-12-18T20:35:37.162429914+07:00","close_reason":"Fixed: Session only advances when accuracy \u003e= 80%"}
{"id":"enlist-wxl","title":"OptimisticLockingFailureException in CreditsService.getOrCreateUser - race condition on User entity","description":"Concurrent requests to getUserCredits cause StaleObjectStateException when multiple threads try to create/save the same User entity (id=1). Issue in CreditsService.getOrCreateUser at line 80-88.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:21:59.097607975+07:00","updated_at":"2025-12-18T20:23:38.783978715+07:00","closed_at":"2025-12-18T20:23:38.783978715+07:00","close_reason":"Fixed race condition in getOrCreateUser: added try-catch for DataIntegrityViolationException and ObjectOptimisticLockingFailureException with retry to fetch existing user. Also added @Transactional annotations."}
{"id":"enlist-x4e","title":"Improve UI: Compact ScoreBreakdown with circular percentage display","description":"Change ScoreBreakdown component to use compact circular progress indicators instead of the current layout","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T07:42:24.980619932+07:00","updated_at":"2025-12-18T07:45:27.751948803+07:00","closed_at":"2025-12-18T07:45:27.751948803+07:00","close_reason":"Implemented compact circular progress indicators for score display"}
{"id":"enlist-xzw","title":"NonUniqueResultException when accessing old paragraph - query returns 2 results","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-18T20:09:36.398338635+07:00","updated_at":"2025-12-18T20:11:22.576951399+07:00","closed_at":"2025-12-18T20:11:22.576951399+07:00","close_reason":"Fixed by changing findByUserIdAndParagraphIdAndStatus to findFirstByUserIdAndParagraphIdAndStatusOrderByIdDesc to handle cases where multiple IN_PROGRESS sessions exist for the same paragraph"}
{"id":"enlist-zg1","title":"Add progressive onboarding for feedback complexity","description":"New users get simpler feedback (Quick Fix only). After 5 submissions, prompt to enable detailed mode. Track user experience level in profile. Adjust default feedback density accordingly.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-17T21:44:20.978859466+07:00","updated_at":"2025-12-17T22:15:46.178879471+07:00","closed_at":"2025-12-17T22:15:46.178879471+07:00","close_reason":"Added progressive onboarding: tracks submissions in localStorage, shows prompt after 5 submissions to enable detailed mode. New users default to Quick Fix mode."}
